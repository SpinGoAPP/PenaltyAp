<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Penalty Race</title>

<style>
:root { --neon:#00ff41; --bg:#030303; --gray:#1a1a1a; }
body{
    background:var(--bg);
    color:white;
    font-family:Segoe UI,Roboto,sans-serif;
    margin:0;
    height:100vh;
    overflow:hidden;
}
.screen{
    display:flex;
    flex-direction:column;
    align-items:center;
    padding:20px;
}
.goal-post{
    position:relative;
    width:100%;
    height:200px;
    border:5px solid white;
    border-bottom:none;
    display:grid;
    grid-template-columns:repeat(3,1fr);
    grid-template-rows:repeat(2,1fr);
}
.target-node{
    border:1px solid rgba(255,255,255,0.05);
    cursor:pointer;
}
.target-node::before{
    content:'';
    width:35px;
    height:35px;
    border:2px solid yellow;
    border-radius:50%;
    opacity:0.6;
    display:block;
    margin:auto;
    margin-top:20px;
}
#ball{
    position:absolute;
    bottom:-50px;
    left:50%;
    transform:translateX(-50%);
    font-size:2.5rem;
    transition:0.6s;
}
#keeper{
    position:absolute;
    top:40%;
    left:50%;
    transform:translateX(-50%);
    font-size:3rem;
    transition:0.3s;
}
.info-box{
    width:100%;
    display:flex;
    justify-content:space-between;
    font-weight:bold;
    margin-bottom:15px;
}
#status{
    margin-top:40px;
    font-weight:bold;
    color:var(--neon);
}
</style>
</head>

<body>
<div class="screen">

<h2 style="color:var(--neon)">âš½ GOAL RACE MODE</h2>

<div class="info-box">
    <div>P1 Goals: <span id="p1-goals">0</span>/10</div>
    <div>P2 Goals: <span id="p2-goals">0</span>/10</div>
</div>

<div class="info-box">
    <div>P1 Shots: <span id="p1-shots">0</span>/10</div>
    <div>P2 Shots: <span id="p2-shots">0</span>/10</div>
</div>

<div class="goal-post" id="goal">
    <div id="keeper">ðŸ§¤</div>

    <div class="target-node" onclick="kick(1)"></div>
    <div class="target-node" onclick="kick(2)"></div>
    <div class="target-node" onclick="kick(3)"></div>
    <div class="target-node" onclick="kick(4)"></div>
    <div class="target-node" onclick="kick(5)"></div>
    <div class="target-node" onclick="kick(6)"></div>

    <div id="ball">âš½</div>
</div>

<div id="status">Player 1 SHOOTS</div>

</div>

<script>
/* ==========================
   GOAL RACE SETTINGS
========================== */

let currentShooter = 1;

let p1Goals = 0;
let p2Goals = 0;

let p1Shots = 0;
let p2Shots = 0;

const maxGoals = 10;
const maxShots = 10;

/* ==========================
   UPDATE UI
========================== */
function updateUI(){
    document.getElementById("p1-goals").innerText = p1Goals;
    document.getElementById("p2-goals").innerText = p2Goals;

    document.getElementById("p1-shots").innerText = p1Shots;
    document.getElementById("p2-shots").innerText = p2Shots;

    document.getElementById("status").innerText =
        currentShooter === 1
        ? "Player 1 SHOOTS"
        : "Player 2 SHOOTS";
}

/* ==========================
   END GAME
========================== */
function endGame(winner){
    alert("ðŸ† GAME OVER!\n\nWinner: Player " + winner);
}

/* ==========================
   MAIN KICK
========================== */
function kick(pos){

    // Check shots limit
    if(currentShooter === 1 && p1Shots >= maxShots){
        alert("Player 1 has no shots left!");
        return;
    }
    if(currentShooter === 2 && p2Shots >= maxShots){
        alert("Player 2 has no shots left!");
        return;
    }

    // Count shot only when clicked
    if(currentShooter === 1) p1Shots++;
    else p2Shots++;

    const ball = document.getElementById("ball");
    const keeper = document.getElementById("keeper");
    const nodes = document.querySelectorAll(".target-node");

    const target = nodes[pos-1].getBoundingClientRect();
    const goal = document.getElementById("goal").getBoundingClientRect();

    // Animate ball
    ball.style.bottom="150px";
    ball.style.left=(target.left-goal.left+target.width/2)+"px";

    setTimeout(()=>{

        // Random save
        let savePos = Math.floor(Math.random()*6)+1;
        const botTarget = nodes[savePos-1].getBoundingClientRect();

        keeper.style.left=(botTarget.left-goal.left+botTarget.width/2)+"px";
        keeper.style.top=(botTarget.top-goal.top)+"px";

        setTimeout(()=>{

            if(savePos !== pos){
                alert("âš½ GOAL!");

                if(currentShooter === 1) p1Goals++;
                else p2Goals++;

                // Winner check
                if(p1Goals >= maxGoals) return endGame(1);
                if(p2Goals >= maxGoals) return endGame(2);

            } else {
                alert("ðŸ§¤ SAVED!");
            }

            // Reset
            ball.style.bottom="-50px";
            ball.style.left="50%";
            keeper.style.left="50%";
            keeper.style.top="40%";

            // Switch shooter
            currentShooter = currentShooter === 1 ? 2 : 1;
            updateUI();

        },500);

    },200);
}

updateUI();
</script>

</body>
    </html>
